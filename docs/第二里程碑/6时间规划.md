# 第二里程碑开发时间规划 (6周)

## 📅 总体时间安排
**总周期：6周** (30个工作日)

### 阶段划分
```
第1周：经济系统核心
第2周：建筑系统实现  
第3周：战斗系统扩展
第4周：场景与集成
第5周：操作优化与测试
第6周：打包与发布
```

## 🗓️ 详细周计划

### 第1周：经济系统核心 (5天)

#### 周一
```
任务：经济框架搭建
- 资金系统基础逻辑（初始资金2200）
- 电力管理系统（供应=主营地10+发电厂×10，需求=坦克工厂×5）
- 资源数据同步与网络验证
产出：经济系统基础框架
```

#### 周二
```
任务：UI经济显示
- 顶部资源信息面板（资金+电力状态）
- 资金/电力实时显示（绿/黄/红状态指示）
- 收入变化动画（每5秒+50资金）
产出：完整的经济UI界面
```

#### 周三
```
任务：采集系统
- 资源点数据结构（储量3000/5000）
- 采矿场采集逻辑（必须建在资源点上）
- 周期性收入计算（每5秒产生50资金）
产出：可运行的资源采集系统
```

#### 周四
```
任务：建造队列
- 建造队列管理器（并行建造支持）
- 建造进度跟踪（实时进度条）
- 建造限制验证（位置、资金、电力）
产出：建造队列系统
```

#### 周五
```
任务：经济系统集成测试
- 资源流动测试（资金增长与消耗）
- 电力平衡测试（充足/紧张/不足状态）
- 网络同步验证与异常处理
产出：稳定的经济系统
```

### 第2周：建筑系统实现 (5天)

#### 周一
```
任务：建筑基类设计
- 建筑通用属性（生命值、状态）
- 建造状态管理（建造中、正常、受损、摧毁）
- 建筑生命周期（创建、运行、销毁）
产出：建筑系统基础框架
```

#### 周二
```
任务：具体建筑实现
- 主营地功能（核心，被毁即失败）
- 发电厂功能（提供10电力）
- 采矿场功能（建在资源点上，每5秒+50资金）
- 坦克工厂功能（生产坦克，3个生产槽）
产出：4种建筑完整功能
```

#### 周三
```
任务：建筑交互
- 建造依赖关系（主线：主营地→发电厂→坦克工厂）
- 电力需求计算与状态反馈（绿/黄/红）
- 功能启用/禁用逻辑（电力不足时禁止建造）
产出：建筑间交互系统
```

#### 周四
```
任务：建造UI系统
- 建造菜单界面（右下角固定按钮）
- 建筑放置系统（预览、吸附、确认/取消）
- 建造进度显示（实时进度条，绿色=可建，红色=不可建）
产出：完整的建造流程
```

#### 周五
```
任务：建筑系统测试
- 建造流程测试（全流程验证）
- 电力系统测试（平衡与反馈）
- 功能完整性测试（4种建筑全功能）
产出：稳定的建筑系统
```

### 第3周：战斗系统扩展 (5天)

#### 周一
```
任务：单位生产系统
- 坦克生产队列（最多3辆并行生产）
- 生产进度管理（20秒/辆，独立进度条）
- 单位生成逻辑（在坦克工厂前方生成）
产出：完整的单位生产系统
```

#### 周二
```
任务：战斗AI改进
- 自动索敌优化（最近优先，生命值最低次之）
- 攻击优先级算法（先攻击坦克，然后是建筑（优先级：主营地>其他））
- 移动中攻击处理（遇敌自动攻击，继续移动）
产出：智能战斗AI
```

#### 周三
```
任务：胜负判定系统
- 胜利条件：摧毁所有敌方主营地
- 失败条件：我方主营地被毁
- 结算界面与提示（胜利/失败）
产出：完整的胜负系统
```

#### 周四
```
任务：战斗平衡调整
- 伤害数值调整（基础坦克10点/秒）
- 生产时间优化（坦克20秒，建筑15-25秒）
- 经济战斗平衡（平均游戏时间5-8分钟）
产出：平衡的战斗系统
```

#### 周五
```
任务：战斗系统集成测试
- 端到端战斗测试（从生产到决战）
- 性能压力测试（多单位战斗）
- 网络同步测试与延迟优化
产出：稳定的战斗系统
```

### 第4周：场景与集成 (5天)

#### 周一
```
任务：2人对称地图制作
- 地形布局（128×128单位，正方形）
- 资源点放置（双方各1个3000储量，中央2个5000储量）
- 出生点与安全区设置（x<45,y<45和x>83,y>83）
产出：基础地图场景
```

#### 周二
```
任务：环境装饰与视觉设计
- 地形纹理（草地/干燥土地/矿石纹理）
- 装饰物件（草丛、岩石、障碍物）
- 视觉效果（颜色编码：蓝/红/黄区域）
产出：视觉完整的地图
```

#### 周三
```
任务：场景技术集成
- 建筑放置区域与网格对齐（3单位网格）
- 路径寻找设置（主要通道与侧翼路线）
- 碰撞体与视野系统配置（阻挡与半透明）
产出：可玩的地图场景
```

#### 周四
```
任务：系统集成测试
- 经济+建筑+战斗完整循环测试
- 地图功能与战术路线验证
- 端到端流程（0-10分钟节奏控制）
产出：集成的游戏原型
```

#### 周五
```
任务：Bug修复与优化
- 修复集成问题（资源、建造、战斗）
- 优化性能问题（帧率、内存）
- 完善用户体验（新手引导、反馈）
产出：稳定的集成版本
```

### 第5周：操作优化与测试 (5天)

#### 周一
```
任务：手机触屏操作优化
- 触控响应优化（防误触、延迟降低）
- 按钮布局调整（右下角建造，左下角选择模式）
- 手势操作实现（单指拖动视角，双击放置建筑）
产出：优化的手机操作
```

#### 周二
```
任务：UI/UX深度优化
- 界面布局优化（小地图、资源区、底部操作区）
- 视觉反馈增强（绿色=可操作，红色=不可行）
- 提示系统完善（新手友好提示：电力不足、资金紧张）
产出：用户友好的界面
```

#### 周三
```
任务：全面功能测试
- 所有功能回归测试（经济、建筑、战斗、操作）
- 边界条件测试（资金0、电力不足、满队列）
- 异常情况处理（网络中断、设备低电量）
产出：功能稳定的版本
```

#### 周四
```
任务：性能深度测试
- 帧率优化（中端手机30FPS稳定）
- 内存使用优化（减少GC频率）
- 网络性能测试（8人同局延迟<200ms）
产出：性能达标的版本
```

#### 周五
```
任务：综合平衡性测试
- 经济平衡调整（回本时间：发电厂15秒，采矿场80秒）
- 战斗平衡优化（坦克1v1 10秒击杀，主营地需10辆坦克10秒摧毁）
- 游戏节奏调整（平均5-8分钟，最短3分钟rush）
产出：平衡性良好的版本
```

### 第6周：打包与发布 (5天)

#### 周一
```
任务：移动端深度适配
- 屏幕比例适配（16:9, 18:9, 19.5:9）
- 触控输入优化（全面屏手势兼容）
- 移动端性能优化（LOD、纹理压缩）
产出：移动端适配版本
```

#### 周二
```
任务：打包准备与资源优化
- 资源优化压缩（模型面数控制，音频压缩）
- 安装包大小优化（目标<200MB）
- 图标、启动画面与元数据
产出：准备打包的版本
```

#### 周三
```
任务：多平台打包测试
- Android打包测试（APK/AAB格式）
- iOS打包测试（IPA格式）
- 多设备兼容测试（主流中端机型）
产出：可发布的安装包
```

#### 周四
```
任务：最终综合测试
- 完整流程测试（从匹配到结算）
- 多局游戏测试（连续对战稳定性）
- 压力测试（高密度单位战斗）
产出：发布候选版本
```

#### 周五
```
任务：文档完善与正式发布
- 更新所有设计文档（含此时间规划）
- 编写完整测试报告与用户手册
- 正式版本发布与部署
产出：第二里程碑完成
```

## 📊 里程碑检查点

### 每周检查点
```
第1周末：经济系统可运行（资金+电力+采集）
第2周末：建筑建造流程完整（4种建筑全功能）
第3周末：战斗经济循环成型（生产→战斗→胜利）
第4周末：完整游戏原型（对称地图+安全区）
第5周末：优化稳定的版本（操作流畅，平衡性好）
第6周末：可发布的移动端版本（多平台兼容）
```

### 关键指标
```
功能完整性：100%核心功能实现（经济、建筑、战斗、操作）
性能指标：中端手机30FPS稳定（高密度单位）
包体大小：<200MB（含所有必要资源）
网络稳定性：8人同局延迟<200ms可玩
用户体验：新手5分钟内上手（清晰引导与反馈）
```

## ⚠️ 风险控制

### 技术风险
```
帧同步稳定性：预留3天缓冲时间（第4-5周重点）
移动端性能：第5周集中优化（LOD、纹理压缩）
网络延迟：持续测试和优化（目标<200ms）
寻路系统问题：准备A*算法备选方案（原RVO2存在抖动）
```

### 资源风险
```
美术资源延迟：使用占位符先行开发（按优先级制作）
音频资源不足：使用免费资源替代或简化音效
人员时间冲突：关键任务双人负责（经济、战斗系统）
UI/UX设计复杂度：采用渐进式实现，先核心后细节
```

### 应对策略
```
每周进度评审：周五下午进度检查与风险评估
灵活调整：根据实际情况调整计划（优先保障核心循环）
优先核心：确保核心玩法优先完成（经济→建筑→战斗）
每日站会：快速沟通阻塞问题
```

这个时间规划确保了第二里程碑在6周内高质量完成，每个阶段都有明确的交付物和质量标准，同时预留了足够的缓冲时间应对可能的风险。